<div class='user-title'>
  <h3>Endereços</h3>
  <hr>
</div>
<p ng-hide="addressesService.addresses.length">Você não possui nenhum endereço registrado</p>
<div class="address-panel" ng-repeat="address in addressesService.addresses">
  <span class='field-value'>{a address['street_address_1'] a}, </span>
  <span class="field-value">{a address['street_address_2'] a}, </span>
  <span class="field-value">{a address['neighbourhood'] a}, </span>
  <span class="field-value">{a address['city'] a}, </span>
  <span class="field-value">{a address['state'] a} - </span>
  <span class="field-value">{a address['zip_code'] a}</span>
  <div class="options-btn text-right">
    {#<a href="#">
      <i class="fa fa-edit"></i>
      Alterar
    </a>#}
    <a ng-click="deleteAddress(address['_id']); $event.preventDefault();" href="#">
      <i class="fa fa-close"></i>
      Remover
    </a>
  </div>
</div>
<div id="add-address-modal" class="modal fade address-modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-header">
      <h4 class="inline">Cadastrar endereço</h4>
      <button type="button" class="close inline" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body" ng-controller="AddressController">
      <form id="create-address-form" ng-submit="addAddress()" method="post">
        <ul class="alert alert-success" ng-show="form_success">
          <li>{a form_success a}</li>
        </ul>
        {{ form.hidden_tag() }}
        <p>Para pesquisar seu endereço pelo cep, preencha-o abaixo e clique em 'Buscar'</p>
        <dt>{{ form.zip_code.label }}
        <dd>{{ form.zip_code(**{'ng-model':'form.zip_code', 'ui-mask':'99999-999', 'model-view-value': 'true'})|safe }}
        <a href="#" class="btn btn-default btn-success" ng-click="getAddressByCep(); $event.preventDefault();">
          Buscar
        </a>
        <ul class="alert alert-danger" ng-show="form_errors.zip_code">
          <li ng-repeat="error in form_errors.zip_code">{a error a}</li>
        </ul>
        <dt>{{ form.street_address_1.label }}
        <dd>{{ form.street_address_1(**{'ng-model':'form.street_address_1'})|safe }}
        <ul class="alert alert-danger" ng-show="form_errors.street_address_1">
          <li ng-repeat="error in form_errors.street_address_1">{a error a}</li>
        </ul>
        <dt>{{ form.street_address_2.label }}
        <dd>{{ form.street_address_2(**{'ng-model':'form.street_address_2'})|safe }}
        <ul class="alert alert-danger" ng-show="form_errors.street_address_2">
          <li ng-repeat="error in form_errors.street_address_2">{a error a}</li>
        </ul>
        <dt>{{ form.neighbourhood.label }}
        <dd>{{ form.neighbourhood(**{'ng-model':'form.neighbourhood'})|safe }}
        <ul class="alert alert-danger" ng-show="form_errors.neighbourhood">
          <li ng-repeat="error in form_errors.neighbourhood">{a error a}</li>
        </ul>
        <dt>{{ form.city.label }}
        <dd>{{ form.city(**{'ng-model':'form.city'})|safe }}
        <ul class="alert alert-danger" ng-show="form_errors.city">
          <li ng-repeat="error in form_errors.city">{a error a}</li>
        </ul>
        <dt>{{ form.state.label }}
        <dd>{{ form.state(**{'ng-model':'form.state'})|safe }}
        <ul class="alert alert-danger" ng-show="form_errors.state">
          <li ng-repeat="error in form_errors.state">{a error a}</li>
        </ul>
        <p><input class="btn btn-default btn-ns" id="add-address-btn" type="submit" value="Enviar"></input></p>
      </form>
    </div>
  </div>
</div>
<div class="duvet-btn-wrapper add-address-btn text-right">
  <a class="duvet-btn" type="button" data-toggle="modal" data-target="#add-address-modal">
    <i class="fa fa-plus"></i> Adicionar endereço
  </a>
</div>
